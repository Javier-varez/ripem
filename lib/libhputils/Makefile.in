LIBHPUTILS_DIR = lib/libhputils

LIBHPUTILS     = $(LIBHPUTILS_DIR)/libhputils.a
LIBHPUTILS_SRC = $(call LIST_SRCS,$(LIBHPUTILS_DIR))
LIBHPUTILS_OBJ = $(call SUBST_OBJ,$(LIBHPUTILS_SRC),$(LIBHPUTILS_DIR))

$(LIBHPUTILS): $(LIBHPUTILS_OBJ)
	$(ARM_AR) rcs $@ $^

$(LIBHPUTILS_DIR)/%.o: $(LIBHPUTILS_DIR)/%.c
	$(ARM_CC) $(ARM_CFLAGS) -c $< -o $@

$(LIBHPUTILS_DIR)/%.o: $(LIBHPUTILS_DIR)/%.S
	$(ARM_AS) $(ARM_AFLAGS) $< -o $@

ARM_CFLAGS += -I$(LIBHPUTILS_DIR)
BUILD_FILES += $(LIBHPUTILS)
CLEAN_FILES += $(LIBHPUTILS_DIR)/*.a $(LIBHPUTILS_DIR)/*.o
